var HACKEET_FRONTEND_RASPBERRY_DIRECTORY="bin/raspberry",HACKEET_FRONTEND_DEBIAN_DIRECTORY="bin/debian/",HACKEET_FRONTEND_UBUNTU_DIRECTORY="bin/ubuntu/",HACKEET_FRONTEND_WINDOWS_DIRECTORY="bin/windows/",HACKEET_FRONTEND_MACOS_DIRECTORY="/bin/macos/",HACKEET_FRONTEND_THIRDPARTIES_DIRECTORY="bin/thirdparties",COMMAND_COPIED_TO_CLIPBOARD_MSG="Installation Command successfully copied to clipboard.</br>Paste it on your Linux or Windows command prompt to run it.";function stats_callback(e){return"post_stats(HACKEET_DOWNLOAD_INFO_TYPE, '"+e+"')"}function post_stats(e,t,n){backend.statistics.post({resource:t,type:e,referer:null==n?"unknown":n})}function hackeet_analytics(e){var t=window.location.pathname,n=document.referrer;post_stats("navigation",t="/"==(t=null!=e?e:t)?"/index.html":t,n=""==n?"unknown":n)}function remove_item(e){e=document.getElementById(e);e&&e.parentNode.removeChild(e)}function create_uuid(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}function activate_item(e,t){0==t&&remove_item(e)}function hackeet_affix(t,n){$(t).click(function(e){$(t).removeClass(n),$(this).addClass(n)})}function debug(e){null==e?alert("Null Object"):console.log(JSON.stringify(e))}function session_object(e){e=hackeet.read_session_data(e);return null==e?{}:JSON.parse(e)}function is_valid(e){return null!=e&&(""!=e||0!=e)}function is_server(e){return"server"==e}function is_command(e){return"command"==e}function is_excel(e){return"excel"==e}function includes(e,t){return null!=e&&(null==t||-1!=e.indexOf(t))}function current_tag(){return location.search.substring(1)}function navigate_to(e){window.location=e}function get_duration(e,t){var n,a,o={quantity:0,unit:"month"};return null!=e&&(n=e.length-1,a=e.slice(n),e=e.slice(0,n),o.quantity=parseInt(e),o.unit="m"==a.toLowerCase()?"month":"y"==a.toLowerCase()?"year":"unknown","m"!=a&&"y"!=a&&(o.quantity=0),null!=t)&&a!=t&&("year"==(t=t.toLowerCase())&&"month"==o.unit&&(o.quantity=o.quantity/12),"month"==t&&"year"==o.unit&&(o.quantity=12*o.quantity),o.unit=t),o}var get_dropdown_item=function(e){return"<option value="+(1==e.numerical?e.value:"'"+e.value+"'")+">"+e.label+"</option>"};function is_billing_valid(){var e=session_object("user");return null!=e&&is_valid(e.name)&&is_valid(e.country_code)&&is_valid(e.address)&&is_valid(e.zip)&&is_valid(e.city)}function is_country_valid(){var e=session_object("user");return null!=e&&1==e.buy_allowed}function parse_query_string(e){for(var t,n={},a=e.split("&"),o=0,c=a.length;o<c;o++)t=a[o].split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function parse_uri(e){var t={};return t=null!=e?parse_query_string(e.substring(e.indexOf("?")+1)):t}match_tag=function(e,t){if(null!=e&&null!=t)for(var n=e.toUpperCase(),a=0;a<t.length;++a)if(includes(n,t[a].toUpperCase().trim()))return!0;return!1};var no_click_handler=function(e){e.stopPropagation(),e.preventDefault()};function load(t,n,a){var o;return $.ajax({url:t,async:!1,success:function(e){o=e,null!=n&&n(e)},error:function(e){null!=a?a(e):console.log("hackeet::utils::load : error : unable to load "+t)}}),o}function quoted_string(e){return'"'+e+'"'}function json_string(e,t){return quoted_string(e)+":"+quoted_string(t)}function query_selector_class(e){return" ."+e+" "}function query_selector_name(e){return" #"+e}function hackeet_add_class(e,t){$("#"+e).addClass(t)}function get_parent_node(e,t){var n=e;for(i=0;i<t;i++)n=n.parentNode;return n}function ellipsis(e,t){var n=e.substr(0,t);return e.length>=t&&(n+="..."),n}function replace_all(e,t,n){t=new RegExp(t,"g");return e.replace(t,n)}function get_id_string(e){return replace_all(e," ","_")}function generate(e,t,n){function a(e){return"{{"+e+"}}"}if(null!=(i=e)&&null!=t)for(var o in t)var c=null==n?null:n[o],i=replace_all(i,(c=null==c?a:c)(o),t[o]);return i}function display_message_box(e,t){e=$(e);e.text(t),e.show("fast"),update_catcha()}function display(e,t,n,a){var o=$(e);o.text(t),o.show("fast"),0<n?setTimeout(function(){o.hide("fast"),null!=a&&a()},n):null!=a&&a()}function load_footer(e){load_section("#site_footer",hackeet_footer_content(),function(){})}function load_template_common(t,n){load_section("#template_common_footer",hackeet_template_common_content(),function(){var e='<a class="download-button full-width-button" download="" href="'+hackeet_application_template(t)+'" onclick="post_stats(HACKEET_DOWNLOAD_INFO_TYPE, '+t+')">Download</a>';document.getElementById("common-tag").innerHTML='<a href="#'+(null!=n?n:"template_common_footer")+'">How to use templates</a>',document.getElementById("download-tag").innerHTML=e})}function set_inner_content(e,t){var n=null;null!=e&&(null!=e.id?n=document.getElementById(e.id):null!=e.selector&&(n=document.querySelector(e.selector))),null!=n&&null!=t&&(n.innerHTML=t)}var base64_to_blob=function(e,t,n){for(var a=atob(e),o=[],c=0;c<a.length;c+=n){for(var i=a.slice(c,c+n),l=new Array(i.length),r=0;r<i.length;r++)l[r]=i.charCodeAt(r);var _=new Uint8Array(l);o.push(_)}return new Blob(o,{type:t})};function save_as_file(t,e,n){try{var a=new Blob([t],{type:n});saveAs(a,e)}catch(e){window.open("data:"+n+","+encodeURIComponent(t),"_blank","")}}function save_base64_as_file(e,t,n,a){try{var o=base64_to_blob(e,n,0<a?a:512);saveAs(o,t)}catch(e){}}function scroll_to_element(e){e=null!=e?document.getElementById(e):null;null!=e?(e.scrollIntoView(!0),window.scrollBy(0,SCROLL_HEADER_OFFSET)):window.scrollTo(0,0)}function set_origin(e){hackeet.store_session_data("page",e,!0)}function origin(){return hackeet.read_session_data("page")}function remove_origin(e){hackeet.delete_session_data("page")}function copy_to_clipboard(e,t){var n=document.createElement("textarea"),a=document.getElementById(e),e=document.getElementById(e).innerHTML,t=null!=t?t(e):e;n.value=t,a.appendChild(n),n.select(),document.execCommand("copy"),a.removeChild(n)}function copy_string_to_clipboard(e,t){var n=document.createElement("textarea"),t=null!=t?t(e):e;n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}var processor=function(e){return e=(e=e.replace("<br>","\r\n")).replace("<br>","\r\n"),e+="\r\n"};function hackeet_copy_string_command(e){copy_string_to_clipboard(e,processor)}function clipboard(e){var t=e.content,n=e.title,a=e.target,o=e.id,c=e.header,i=null!=e.custom_class?e.custom_class:"",l=null!=e.copy_function?e.copy_function:copy_to_clipboard,r=null!=e.focus?e.focus:"",o=(null==c&&(c="copy to clipboard"),null==o?String(Math.floor(1e6*Math.random())):o),a=null==a?null:document.getElementById(a),_="'"+o+"'",r="'"+r+"'",u="",i='<div class="hackeet-clipboard-container '+i+'" id="'+("container_"+o)+'">'+(u=0!=e.has_header?'<div class=""><button type="button" class="btn hackeet-clipboard-btn" id="'+("button_"+o)+'" onclick="'+l+"("+_+","+r+')">'+c+"</button></div>":u)+('<div><div class="hackeet-clipboard-content" onclick="'+l+"("+_+","+r+')">'+(""!=n&&null!=n?'<div><div class="hackeet-clipboard-title">'+n+"</div></div>":"")+'<div class="hackeet-clipboard-content-string"><span id="'+o+'">'+t+'</span><span class="glyphicon glyphicon-duplicate hackeet-clipboard-icon" aria-hidden="true"></span></div></div></div>')+"</div>";return null!=a&&(a.innerHTML=i),i}function enable_click(e){var t=0==e?"progress":"default";0==e?document.addEventListener("click",no_click_handler,!0):document.removeEventListener("click",no_click_handler,!0),document.body.style.cursor=t}function signout(){hackeet.delete_session_data("user"),hackeet.delete_session_data("token")}function signin(e,t){hackeet.store_session_data("user",JSON.stringify(e),t),hackeet.store_session_data("token",e.token,t)}function refresh_token(e){hackeet.store_session_data("token",e,!0)}function refresh_user(n){var a,e=hackeet.read_session_data("user");return null!=e&&""!=e?(a=JSON.parse(hackeet.read_session_data("user")),backend.default(),null!=a&&backend.user.get({user:{email:a.email,token_str:hackeet.read_session_data("token")},cb:function(e,t){update_signed_user(a=t),null!=n&&n(e,t)}}),a):null}function activate_user(){var e=parse_uri(window.location.search);null!=e.confirm_id&&(e={confirmation:{confirm_id:e.confirm_id},cb:function(e,t){}},backend.user.activate(e))}function non_empty(e){return null!=e&&""!=e}function valid_billing(e){return non_empty(e.name)&&non_empty(e.country_name)&&non_empty(e.address)&&non_empty(e.city)&&non_empty(e.zip)&&1==Number(e.terms)}function update_signed_user(e){null!=e&&hackeet.store_session_data("user",JSON.stringify(e),!0)}function signed_user(){return{user:hackeet.read_session_data("user"),token:hackeet.read_session_data("token")}}function load_section(e,t,a){$(e).load(t,function(e,t,n){a&&a()})}function set_section(e,t){e=document.getElementById(e);null!=e&&(e.innerHTML=t)}function refresh(e,t){var n=e+".player",a=document.getElementById(e),o=document.getElementById(n);null!=a&&(document.getElementById(e).src=t),null!=o&&(document.getElementById(n).style.opacity="0.0")}function add_player(e,t,n){var a="player"+String(Math.random()),t='<div class="video-thumbnail">                                             <img id="'+a+'" class="img-fluid " src="'+t+'">                                             <div id="'+(a+".player")+'" class="play-button" onclick="refresh(\''+a+"','"+n+"')\"></div>                                         </div>";null!=document.getElementById(e)&&(document.getElementById(e).innerHTML=t)}function get_random_color(e){var t=["#0F9D59","#684793","#4385F4","#DB4337","#F4B401"];return t[null!=e?e%t.length:Math.floor(Math.random()*t.length)]}function get_background_opacity(e){return"0a"}function read_form_value(e){e=document.getElementById(e);return null==e?"":e.value}function read_form_checkbox(e){e=document.getElementById(e);return null==e?0:e.checked}function read_named_form_value(e,t){e=document.getElementById(e).elements.namedItem(t);return null!=e?{name:e.label,value:e.value}:{name:"",value:""}}function set_form_value(e,t,n,a){var o=document.getElementById(e),c=null!=o;return null!=a&&(a[e]=t),null!=o&&(o.value=(0!=t||1!=n)&&null!=t?t:""),c}function set_form_checkbox_value(e,t,n,a){var o=document.getElementById(e),c=null!=o;return null!=a&&(a[e]=t),null!=o&&(o.checked="true"==t),c}var frontend={root:function(){return hackeet_frontend_url()},downloads:{path:function(e){return hackeet_frontend_url()+"/hackeet/downloads/"+(null==e?"":e)}},linux:{path:function(e){return frontend.downloads.path(HACKEET_FRONTEND_DEBIAN_DIRECTORY+e)},command:function(e,t){e=hackeet_debian_version();return"wget --no-check-certificate -O - "+frontend.downloads.path("bin/"+t+"/"+(e+".installer"))+" | sudo bash -s "+e+" "+frontend.root()}},debian:{command:function(){return frontend.linux.command(hackeet_debian_version(),"debian")}},ubuntu:{command:function(){return frontend.linux.command(hackeet_debian_version(),"ubuntu")}},raspberry:{command:function(){return frontend.linux.command(hackeet_debian_version(),"raspberry")}},windows:{installer:function(){var e=hackeet_windows_version()+".exe";return frontend.downloads.path("bin/windows/"+e)}},macos:{installer:function(){var e=hackeet_macos_version()+".installer.dmg";return frontend.downloads.path("bin/macos/"+e)}}},ENTERPRISE_BOT_OUTPUT_LICENSE="License",ENTERPRISE_BOT_INPUT_SEARCH_PRODUCTS="License",ECONOMICS_SETTING_FILE="economics.json",COMPANY_SETTINGS_FILE="company.json",VAT_EUROPEAN_LEGAL_TEXT="EU VAT Directive 2008/8/CE amending directive 2006/112/CE as regards the place of supply of services.",INVOICE_MODE="invoice",g_symbols={},g_taxes={},g_company={};function symbols(){return g_symbols}function taxes(){return g_taxes}function company(){return g_company}function initialize_economics(e,t){var n;null!=t?(n=t.company,load(t.economics,function(e){console.log(e),g_symbols=e.symbols,g_taxes=e.taxes}),load(n,function(e){g_company=e.company})):console.log("Error : Unable to initialize invoice, company or economics are not defined")}function is_valid_vat(e){return null!=e&&null!=e.vat&&""!=e.vat&&1==e.valid_vat&&1!=e.spurious_vat}function get_qty_input(e){var t=e.uuid+".qty";return'<input class="number-input" type="number" name="'+t+'" min="1" max="12" id="'+t+'" value="'+e.quantity+'">'}function get_pricing(e){var t=e.pricing,n=e.meta,a=e.country,o=e.taxes,c=e.symbols,i=e.total_tags,l=e.qtys;if(null!=t){(r=t.billing_items).length;var r,_="",u='<thead class="items-head">\t\t\t\t<tr>\t\t\t\t\t<th class="items-header item-header" colspan="14"></th>\t\t\t\t\t<th class="tax-header item-header" colspan="1">Tax</th>\t\t\t\t\t<th class="qty-header item-header" colspan="1">Quantity</th>\t\t\t\t\t<th class="price-header item-header" colspan="1">Unit Price</th>\t\t\t\t\t<th class="amount-header item-header" colspan="1">Amount</th>\t\t\t\t</tr>\t\t\t</thead>';if(null!=t)for(var s=0,d=0,E=n.uuid,p=0;p<r.length;++p){var m,f,C=r[p],v=E;"tax"!=C.type&&(null!=l&&(C.quantity=l[v]),null==C.quantity&&(C.quantity=1),m=C.tax_rate,null==(f=C.duration)&&(f=1),null==m&&(m=o[a].value),C.amount=Number(C.price)*Number(C.quantity)*f,s+=C.amount,d+=null!=C.tax_amount?C.tax_amount:m*C.amount,C.uuid=v,_+='<tr >\t\t\t\t\t\t\t\t\t\t<td class="items hackeet-items-desc" colspan="14">\t\t\t\t\t\t\t\t\t\t\t<span class="fs-exclude">\t\t\t\t\t\t\t\t\t\t\t\t<strong class="item-name">'+C.name+'</strong>\t\t\t\t\t\t\t\t\t\t\t\t<div class="item-description">'+C.description+'</div>\t\t\t\t\t\t\t\t\t\t\t</span>\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\t\t\t\t\t\t\t<td class="tax" colspan="1" id="'+v+'.tax"><span class="tax-label">'+C.tax+'<span class="hackeet-invoice-country-code">('+a+")</span></span> "+tax_normalized_string(m)+'</td>\t\t\t\t\t\t\t\t\t\t<td class="qty" colspan="1">'+(e.mode!=INVOICE_MODE?get_qty_input(C):Number(C.quantity).toFixed(2))+'</td>\t\t\t\t\t\t\t\t\t\t<td class="price" colspan="1">'+get_price(C.price*f,t.ccy,c)+'</td>\t\t\t\t\t\t\t\t\t\t<td class="amount" colspan="1">'+get_price(C.amount,t.ccy,c)+"</td>\t\t\t\t\t\t\t\t\t</tr>")}t.subtotal=s,t.total_tax=d,t.total=t.subtotal+t.total_tax;var h='<td colspan="14"></td><td class="unit" colspan="1"></td><td class="unit" colspan="1"></td>',T=h;null!=i&&(T='<td colspan="14">'+(null!=i.col1?i.col1:"")+'</td><td class="unit" colspan="1">'+(null!=i.col2?i.col2:"")+'</td><td class="unit" colspan="1">'+(null!=i.col3?i.col3:"")+"</td>");return{table:'<div class="table-responsive invoice-items-table"><table>'+u+"<tbody>"+(_+=tr('<td class="total-item-header" colspan="14"></td><td class="unit total-item-header" colspan="1"></td><td class="unit total-item-header" colspan="1"></td><td class="unit total-item-header" colspan="1">SubTotal</td> <td id = "invoice_subtotal" class="subtotal" colspan="1">'+get_price((i={total:t.total,subtotal:t.subtotal,tax:t.total_tax}).subtotal,t.ccy,c)+"</td>")+tr(h+'<td class="unit total-item-header" colspan="1">Tax</td> <td id = "invoice_tax_amount" class="tax-amount" colspan="1">'+get_price(i.tax,t.ccy,c)+"</td>")+tr(T+'<td class="unit total-item-header total-header" colspan="1">Total</td><td id = "invoice_total" class="total" colspan="1">'+get_price(i.total,t.ccy,c)+"</td>"))+"</tbody></table></div>",total:i,header:u,body:_,items:r,pricing:t,durations:l}}show_modal("Unable to get pricing for product "+n.title+"  ("+n.uuid+")",{show:!0,id:"modal_console",backdrop:!0})}function vat_legal_string(e){return null!=e&&null!=e.vat&&""!=e.vat&&1==e.valid_vat?VAT_EUROPEAN_LEGAL_TEXT:""}function set_value_by_id(e,t){null!=t&&null!=(e=document.getElementById(e))&&(e.innerHTML=t)}function add_address_element(e,t,n){n=null==t||null==e?"":null==n?"-":n;return null==e&&(e=""),t&&(e+=n+t),e}function get_tax(e,t,n){e=e.toLowerCase(),n=n[t.toUpperCase()];return{rate:null!=n&&null!=n[e]?n[e]:0,name:e.toUpperCase()}}function get_price(e,t,n){var n=n[t.toUpperCase()],a=(Number(e)/100).toFixed(2);return console.log("CCy symbol=",n,":price=",e),null!=n?a+n:a+" "+t}function tax_normalized_string(e){return(100*e).toFixed(2)+"%"}function tr(e){return"<tr>"+e+"</tr>"}function set_company(e,t){document.getElementById("company_logo").src=""==t||null==t?e.logo:hackeet_tmp_file(t),set_value_by_id("invoice_title",e.name),set_value_by_id("company_address",e.address),set_value_by_id("company_email",e.email),set_value_by_id("company_phone",e.phone),set_value_by_id("company_tax_id",e.tax_id),set_value_by_id("company_tax_name",e.tax_name)}function set_customer(e){var t=e,e=is_valid_vat(e)?'VAT Number :<span class="hackeet-vat-number">'+e.vat+"</span>":"";set_value_by_id("customer_name",t.name),set_value_by_id("customer_vat",e),set_value_by_id("customer_address_line1",t.address),set_value_by_id("customer_address_zipcode_city",add_address_element(t.zip,t.city,"-")),set_value_by_id("customer_country",t.country_name)}function set_invoice_values(e){var t=e.brand,n=e.last4,a="--",o=e.type;null!=t&&null!=n&&(a=t+" **** **** **** "+n),set_value_by_id("invoice_sequence_id",(o=null==o?"Invoice":o).toUpperCase()+" #"+e.invoice_id),set_value_by_id("invoice_reference",e.license_uuid),set_value_by_id("invoice_date",e.start),set_value_by_id("invoice_payment",a)}function set_invoice_vat_legal(e){set_value_by_id("invoice-vat-desc",vat_legal_string(e))}function set_invoice_products(e,t,n,a,o,c){set_value_by_id("item-table",get_pricing({pricing:e.pricing,meta:e.meta,country:t,taxes:n,symbols:a,user:o,mode:INVOICE_MODE}).table)}function set_invoice_condition(e){null!=e&&null!=e.conditions&&set_value_by_id("invoice-conditions",e.conditions)}function convert(e){try{return JSON.parse(e)}catch(e){}return e}function build_invoice(e,t,n){var a=convert(t.billing_json),o=convert(t.pricing_json),c={billing:convert(t.billing_json),pricing:convert(t.pricing_json),meta:convert(t.meta_json)};set_company(company(),n),set_customer(a),set_invoice_values(t),set_invoice_vat_legal(a),set_invoice_products(c,a.vat_country_code,taxes(),symbols(),e,o),set_invoice_condition(a)}function hackeet_tmp_file(e){return"/hackeet/tmp/"+(null==e?"":e+"")}function hackeet_img_file(e){return"/hackeet/img/"+(null==e?"":e+"")}function hackeet_data_file(e){return"/hackeet/data/"+(null==e?"":e+"")}function dep_initialize_invoice(e){var t,n=parse_uri(window.location.search),a=session_object("user"),o=n.file,c=n.company,i=n.logo,c=(null==a&&(a={}),initialize_economics(c,e),{email:a.email,license_uuid:n.license_uuid,token_str:hackeet.read_session_data("token"),admin_code:n.admin_code}),e=(window.location.search,null);null==o?(n=function(e,t){build_invoice(a,JSON.parse(t.json))},(e=hackeet.client("",function(){},{websockets:!1})).register_handler({output_id:ENTERPRISE_BOT_OUTPUT_LICENSE},n),e.push(ENTERPRISE_BOT_INPUT_SEARCH_PRODUCTS,c,n)):(e=hackeet_tmp_file(o),t=null!=i?i:"",load(e,function(e){build_invoice(a,e,t)}))}function initialize_invoice(e){var t,n=parse_uri(window.location.search),a=session_object("user"),o=n.file,c=n.company,i=n.logo,l=(null==a&&(a={}),initialize_economics(c,e),{email:n.email,license_uuid:n.license_uuid,token_str:n.token_str,admin_code:n.admin_code});window.location.search;null==o?(null==(c=e.server)&&(c=""),hackeet.client(c,{on_server_connect:function(e,t){function n(e,t){build_invoice(a,JSON.parse(t.json))}e.register_handler({output_id:ENTERPRISE_BOT_OUTPUT_LICENSE},n),e.push(ENTERPRISE_BOT_INPUT_SEARCH_PRODUCTS,l,n)},raw_hackeet_address_scheme:!0,websockets:!0})):(n=hackeet_tmp_file(o),t=null!=i?i:"",load(n,function(e){build_invoice(a,e,t)}))}var hackeet_frontend_url=function(){return"https://www.hackeet.com"},hackeet_backend_host=function(){return"https://backend.hackeet.com:444"},hackeed_payment_url=function(){return"https://backend.hackeet.com"},hackeed_payment_port=function(){return 8189},hackeed_captcha_url=function(){return"https://backend.hackeet.com"},hackeed_captcha_port=function(){return 445},hackeet_contact_mail=function(){return"contact@hackeet.com"},hackeet_backend_port=function(){return""},hackeed_invoice_url=function(){return"https://backend.hackeet.com"},hackeet_pdf_invoice_server_port=function(){return 8102},hackeet_html_invoice_server_port=function(){return 8103},hackeet_newsletter_port=function(){return 444},hackeet_raspberry_version=function(){return"Hackeet.2.1.5"},hackeet_debian_version=function(){return"Hackeet.2.1.5"},hackeet_ubuntu_version=function(){return"Hackeet.2.1.5"},hackeet_macos_version=function(){return"Hackeet.2.1.5"},hackeet_raspberry_os=function(){return"stretch"},hackeet_windows_version=function(){return"Hackeet.2.1.5.x86"},qt_version=function(){return"6.1.1"},qt_src=function(){return"qt5.zip"},hackeet_cdn=function(){return"https://cdn.jsdelivr.net/gh/Hackeet-Paris/website@master/"},HACKEET_DOWNLOAD_STATS_ENDPOINT=((backend=null==backend?{}:backend).data="/hackeet-integration/data/","Stats"),HACKEET_BACKEND_SERVICE_INPUT_AUTHENTICATE="Authenticate",HACKEET_BACKEND_SERVICE_INPUT_ACTIVATE_PROFILE="Activate",HACKEET_BACKEND_SERVICE_INPUT_REGISTER="Register",HACKEET_BACKEND_SERVICE_INPUT_DELETE="Delete",HACKEET_BACKEND_SERVICE_INPUT_PAY="Buy",HACKEET_BACKEND_SERVICE_INPUT_SEARCH_USER="User",HACKEET_BACKEND_SERVICE_INPUT_SEARCH_LICENSES="License",HACKEET_BACKEND_SERVICE_INPUT_UPDATE_BILLING="Billing",HACKEET_BACKEND_SERVICE_INPUT_UPDATE_PROFILE="Profile",HACKEET_BACKEND_SERVICE_INPUT_SEND_INVOICE="Invoice",HACKEET_BACKEND_SERVICE_INPUT_SEND_PASSWORD="Password",HACKEET_BACKEND_SERVICE_INPUT_GET_CAPTCHA="Captcha",HACKEET_BACKEND_SERVICE_INPUT_STRIPE_CREATE_SESSION="CreateSession",HACKEET_BACKEND_SERVICE_INPUT_SUBSCRIBE_NEWSLETTER="Subscribe",HACKEET_BACKEND_SERVICE_INPUT_CONTACT_COMPANY="Contact",HACKEET_BACKEND_SERVICE_OUTPUT_AUTHERROR="AuthError",HACKEET_BACKEND_SERVICE_OUTPUT_PAYMENT_ERROR="PaymentError",HACKEET_BACKEND_SERVICE_OUTPUT_CONSISTENCY_ERROR="ConsistencyError",HACKEET_BACKEND_SERVICE_OUTPUT_USER="User",HACKEET_BACKEND_SERVICE_OUTPUT_SEARCH_LICENSE_COMPLETED="Completed",HACKEET_BACKEND_SERVICE_OUTPUT_LICENSE="License",HACKEET_BACKEND_SERVICE_OUTPUT_CHARGE="Charge",HACKEET_BACKEND_SERVICE_OUTPUT_COMPLETED="Completed",HACKEET_BACKEND_SERVICE_OUTPUT_STRIPE_SESSION_ERROR="SessionError",HACKEET_DEFAULT_CDN="/hackeet-integration",DEFAULT_CONTACT_EMAIL="contact@hackeet.com",HACKEET_BACKEND_CONFIGURATION_ECONOMICS_FILE="economics.json",HACKEET_BACKEND_CONFIGURATION_COMPANY_FILE="company.json",HACKEET_BACKEND_CONFIGURATION_PRODUCTS_FILE="products.json",HACKEET_BACKEND_CONFIGURATION_COUNTRIES_FILE="country.json",HACKEET_BACKEND_CONFIGURATION_EXAMPLES_FILE="examples.json",HACKEET_BACKEND_DEFAULT_DATA_DIRECTORY="/hackeet-integration/data/",HACKEET_BACKEND_DEFAULT_TEMPLATES_DIRECTORY=backend.templates="/hackeet-integration/templates/",HACKEET_INSTALL_LICENSE="hpm license",HACKEET_LICENSE_NAME="hackeet.license.lcs",hackeet_backend_url=function(e,t){return null==t&&(t=hackeet_backend_port()),null==e&&(e=hackeet_backend_host()),""==t?e:e+":"+t},backend={data:HACKEET_BACKEND_DEFAULT_DATA_DIRECTORY,templates:HACKEET_BACKEND_DEFAULT_TEMPLATES_DIRECTORY,hackeet_service:null,default_building_cb:function(e,t){},template:{get:function(e,t){var n=t,a="";return load((n=null==t?backend.templates:n)+e,function(e){a=e}),a}},service:function(e,t,n){var a=null==n?{on_server_connect:backend.default_building_cb}:n;return null==a.on_server_connect&&(n.on_server_connect=backend.default_building_cb),a.raw_hackeet_address_scheme=!0,new hackeet.client(hackeet_backend_url(e,t),a)},http_service:function(e,t,n){return null!=n&&(n.websockets=!1),backend.service(e,t,n)},default:function(e){return null!=e&&(e.cb=e.building_cb,e.websockets=!1),backend.service(hackeet_backend_host(),hackeet_backend_port(),e)},instance:function(e,t){return null==backend.hackeet_service&&(backend.hackeet_service=new backend.service(e,t)),backend.hackeet_service},statistics:{post:function(e){backend.instance().push(HACKEET_DOWNLOAD_STATS_ENDPOINT,e)}},captcha:{get:function(e,t){(t=null==t?backend.service(hackeed_captcha_url(),hackeed_captcha_port()):t).push(HACKEET_BACKEND_SERVICE_INPUT_GET_CAPTCHA,e.definition,e.cb)}},user:{get:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_SEARCH_USER,e.user,e.cb)},password:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_SEND_PASSWORD,e.email,e.cb)},update:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_UPDATE_PROFILE,e.profile,e.cb)},authenticate:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_AUTHENTICATE,e.auth_string,e.cb)},activate:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_ACTIVATE_PROFILE,e.confirmation,e.cb)},create:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_REGISTER,e.auth_string,e.cb)},delete:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_DELETE,e.delete_query,e.cb)},newsletter:{subscribe:function(e,t){(t=null==t?backend.service(hackeet_backend_host()):t).push(HACKEET_BACKEND_SERVICE_INPUT_SUBSCRIBE_NEWSLETTER,e.email,e.cb)}},contact:{send:function(e,t){(t=null==t?backend.service(hackeet_backend_host()):t).push(HACKEET_BACKEND_SERVICE_INPUT_CONTACT_COMPANY,e.payload,e.cb)}},licenses:function(c,e){null==c.success&&null==c.finalize||(e=null==e?backend.default():e).push(HACKEET_BACKEND_SERVICE_INPUT_SEARCH_LICENSES,c.credentials,function(e,t){if(e==HACKEET_BACKEND_SERVICE_OUTPUT_AUTHERROR)null!=c.error&&c.error(e,t);else if(e==HACKEET_BACKEND_SERVICE_OUTPUT_SEARCH_LICENSE_COMPLETED){for(var n=JSON.parse(t.records),a=0;a<n.length;++a){var t=n[a],o=JSON.parse(t.license);null!=o&&(o.active=t.active,o.valid=t.valid,o.billing_json=t.billing_json,o.activation_mac_address=t.activation_mac_address,null!=c.success)&&c.success(o)}null!=c.finalize&&c.finalize(e,t)}})}},billing:{update:function(e,t){(t=null==t?backend.default():t).push(HACKEET_BACKEND_SERVICE_INPUT_UPDATE_BILLING,e.billing,e.cb)}},license:{invoice:{pdf:function(e,t){null==t&&(t=backend.http_service(hackeet_backend_host(),hackeet_pdf_invoice_server_port()));null==e.cb&&(e.cb=function(e,t){t.pdf;save_base64_as_file(t.pdf,"hackeet.invoice."+t.id+".pdf","application/pdf")}),t.push(HACKEET_BACKEND_SERVICE_INPUT_SEND_INVOICE,e.invoice,e.cb)},html:function(e,t){var n=e.page,a="license_uuid="+e.invoice.license_uuid,o="email="+e.invoice.email;window.open(n+"?"+a+"&"+a+"&"+o+"&"+("token_str="+e.token))}},download:function(e,t){var n=HACKEET_INSTALL_LICENSE+" "+hackeet_backend_url()+" "+e.license_uuid+" "+e.activation_token,e={uuid:e.license_uuid,token:e.activation_token,command:n,backend:hackeet_backend_url()};save_as_file(JSON.stringify(e),HACKEET_LICENSE_NAME,"application/json;charset=utf-8")}},products:{get:function(e,t){var n={};return load(null!=e&&null!=e.products?e.products:backend.data+HACKEET_BACKEND_CONFIGURATION_PRODUCTS_FILE,function(e){n=e}),n}},examples:{get:function(t,e){var n={};return load(null!=t&&null!=t.examples?t.examples:backend.data+HACKEET_BACKEND_CONFIGURATION_EXAMPLES_FILE,function(e){n=e,null!=t.success&&t.success(e)}),n}},economics:{get:function(e,t){var n={},a={},o={},c=null!=e&&null!=e.economics?e.economics:backend.data+HACKEET_BACKEND_CONFIGURATION_ECONOMICS_FILE,e=null!=e&&null!=e.company?e.company:backend.data+HACKEET_BACKEND_CONFIGURATION_COMPANY_FILE;return load(c,function(e){o=e.symbols,n=e.taxes}),load(e,function(e){a=e.company}),{taxes:n,company:a,symbols:o}},countries:function(e,t){var n={};return load(null!=e&&null!=e.countries?e.countries:backend.data+HACKEET_BACKEND_CONFIGURATION_COUNTRIES_FILE,function(e){n=e}),{countries:n}}},plugin:{private:{m_plugins:null,m_functions:null,m_active_path:null,iterate_plugins:function(e,t){var n=e.filter;if(null!=e.plugin)for(var a=0;a<backend.plugin.private.m_plugins.length;++a){var o=backend.plugin.private.m_plugins[a],c=null==o.component_id?"":o.component_id,i=null==o.description?"":o.description,l=null==o.module?"":o.module,c=null===n||""===n||includes(c.toUpperCase(),n)||includes(i.toUpperCase(),n)||includes(l.toUpperCase(),n);if(1==c)if(0==e.plugin(o))break}if(null!=e.function)for(a=0;a<backend.plugin.private.m_functions.length;++a)e.function(backend.plugin.private.m_functions[a]);null!=e.finalize&&e.finalize(t)}},get:function(n,e){var a=backend.plugin.private;return null!=n&&(null!=n.path&&n.path!=a.m_active_path?load(n.path,function(e){a.m_plugins=e.plugins,a.m_functions=e.functions,a.m_active_path=n.path;function t(e,t){return e.component_id<t.component_id?-1:e.component_id>t.component_id?1:0}a.m_plugins.sort(t),a.m_functions.sort(t),a.iterate_plugins(n,e)}):a.iterate_plugins(n)),{plugins:a.m_plugins,functions:a.m_functions,path:a.m_active_path}}},payment:{stripe:{create:function(a,e){var t,n,o,c,i,l,r,_,u;null!=a&&(t=a.product,n=a.user,o=a.session,c=a.amount,i=a.duration,l=a.max_events_sec,r=a.additional_apps,_=backend.service(hackeed_payment_url(),hackeed_payment_port()),u=backend.economics.get({company:a.company}).company,null==n&&(n=refresh_user()),null==(o=null==o?{}:o).email&&(o.email=n.email),null==o.tax_free_expected_amount&&(o.tax_free_expected_amount=c),null==o.product_uuid&&(o.product_uuid=t.meta.uuid),null==o.token&&(o.token=hackeet.read_session_data("token")),null==o.duration&&(o.duration=null==i?0:i),null==o.max_events_sec&&(o.max_events_sec=null==l?0:l),null==o.additional_apps&&(o.additional_apps=null==r?0:r),_.push(HACKEET_BACKEND_SERVICE_INPUT_STRIPE_CREATE_SESSION,o,function(t,n){var e;t==HACKEET_BACKEND_SERVICE_OUTPUT_STRIPE_SESSION_ERROR?null!=a.error&&a.error(t,n):0!=n.valid&&(e=JSON.parse(n.json),Stripe(u.stripe_pk).redirectToCheckout({sessionId:e.id}).then(function(e){e.error?null!=a.error&&a.error(t,n):null!=a.success&&a.success()}))}))}}},cdn:{resource:function(e,t){var n=null==hackeet_cdn?HACKEET_DEFAULT_CDN:hackeet_cdn();return null==n&&(n=HACKEET_DEFAULT_CDN),null==e?"":null==t?n+"/"+e:n+"/"+t+"/"+e},image:function(e){return backend.cdn.resource(e,"images")},template:function(e){return backend.cdn.resource(e,"templates")},data:function(e){return backend.cdn.resource(e,"data")},example:function(e){return backend.cdn.resource(e,"examples")},js:function(e){return backend.cdn.resource(e,"js")},captcha:function(e){return backend.cdn.resource(e,"img/captcha")}}};